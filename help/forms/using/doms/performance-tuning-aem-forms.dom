<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2018-04-26T04:35:58.837-0400" name="cq:lastModified" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="2018-04-13T07:33:03.911-0400" name="publishExternalDate" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="http://checkstyle.corp.adobe.com:8031/output/en/performance_tuning_aem_forms_admin_5e12de0b318c6865_2051_report.xml" name="acrolinxReportURL" /> 
  <meta content="2017-12-01T19:04:57.700-0500" name="jcr:created" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="2016-05-31T06:42:14.332-0400" name="acrolinxDate" /> 
  <meta content="Performance tuning of AEM Forms server" name="jcr:title" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="khsingh@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="khsingh" name="cq:lastReplicatedBy" /> 
  <meta content="2016-04-20T09:45:12.101-0400" name="firstPublishExternalDate" /> 
  <meta content="Performance tuning of AEM Forms" name="navTitle" /> 
  <meta content="2018-04-13T07:33:03.928-0400" name="cq:lastReplicated" /> 
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:Configuration" name="cq:tags" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="red" name="acrolinxPageStatus" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/forms/using/performance-tuning-aem-forms.html" name="publishExternalURL" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="For AEM Forms to perform optimally, you can fine-tune the cache settings and JVM parameters. Also, using a web server can enhance the performance of AEM Forms deployment." name="seoDescription" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="c347e18d-cfe9-4ef3-882d-68739212419f" name="jcr:predecessors" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/morehelp/configuration;/content/help/en/experience-manager/6-4/forms/morehelp/configuration" name="moreHelpPaths" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="43" name="acrolinxSentences" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="video" name="pageLayout" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="739" name="acrolinxWords" /> 
  <meta content="2018-04-13T07:33:03.911-0400" name="topicBrowsingSortDate" /> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
  <meta content="2018-04-26T04:35:58.836-0400" name="locHandOffDate" /> 
  <meta content="not_checked" name="acrolinxStatus" /> 
  <meta content="2018-04-13T07:33:03.911-0400" name="lastPublishExternalDate" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="4dd682f7-aeef-4232-ba75-ecc8ec7ae406" name="jcr:uuid" /> 
  <meta content="2015-09-21T03:10:05.015-0400" name="lastPublishQADate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="left" name="sideColumn" /> 
 </head> 
 <body> 
  <p>This article discusses strategies and best practices you can implement to reduce bottlenecks and optimize the performance of your AEM Forms deployment.</p> 
  <h2>Cache settings</h2> 
  <p>You can configure and control the caching strategy for AEM Forms using the <strong>Mobile Forms Configurations</strong> component in AEM Web Configuration Console at:</p> 
  <ul> 
   <li>(AEM Forms on OSGi) <span class="code">http://[server]:[port]/system/console/configMgr</span></li> 
   <li>(AEM Forms on JEE) <span class="code">http://[server]:[port]/lc/system/console/configMgr</span></li> 
  </ul> 
  <p>The available options for caching are as follows:</p> 
  <ul> 
   <li><strong>None</strong>: Enforces not to cache any artifact. This will, in practice, slows the performance and requires high memory availability due to the absence of cache.</li> 
   <li><strong>Conservative</strong>: Dictates to cache only those intermediate artifacts that are generated before rendering the form, such as a template containing inline fragments and images.</li> 
   <li><strong>Aggressive</strong>: Enforces to cache almost everything that can be cached, including rendered HTML content besides all the artifacts from the Conservative caching level. It results in the best performance but also consumes more memory for storing cached artifacts. Aggressive caching strategy means you will get constant time performance in rendering a form as the rendered content is cached.</li> 
  </ul> 
  <p>The default cache settings for AEM Forms may not be good enough to achieve optimal performance. Therefore, it is recommended to use the following settings:</p> 
  <ul> 
   <li><strong>Cache Strategy</strong>: Aggressive</li> 
   <li><strong>Cache size </strong>(in terms of number of forms): As required</li> 
   <li><strong>Max Object Size</strong>: As required</li> 
  </ul> 
  <img alt="Mobile Forms Configurations" imageRotate="0" src="assets/snap.png" title="Mobile Forms Configurations" /> 
  <note> 
   <p>If you use AEM Dispatcher to cache adaptive forms, it also caches adaptive form which contains forms with pre-filled data. If such forms are served from AEM Dispatcher cache, it may lead to serving pre-filled or stale data to the users. So, use AEM Dispatcher to cache adaptive forms which do not use pre-filled data. Moreover, a dispatcher cache does not auto-invalidate cached fragments. So, do not use it to cache form fragments. For such forms and fragments, use <a href="../../forms/using/configure-adaptive-forms-cache.md" target="_blank">Adaptive forms cache</a>.</p> 
  </note> 
  <h2>JVM parameters</h2> 
  <p>For optimal performance, it is recomended to use the following JVM <span class="code">init</span> arguments to configure the <span class="code">Java heap</span> and <span class="code">PermGen</span>.</p> 
  <codeblock gutter="true" class="syntax java">
    set&amp;nbsp;CQ_JVM_OPTS=%CQ_JVM_OPTS%&amp;nbsp;-Xms8192m!!discoiqbr!!set&amp;nbsp;CQ_JVM_OPTS=%CQ_JVM_OPTS%&amp;nbsp;-Xmx8192m!!discoiqbr!!set&amp;nbsp;CQ_JVM_OPTS=%CQ_JVM_OPTS%&amp;nbsp;-XX:PermSize=256m!!discoiqbr!!set&amp;nbsp;CQ_JVM_OPTS=%CQ_JVM_OPTS%&amp;nbsp;-XX:MaxPermSize=1024m 
  </codeblock> 
  <p><strong>Note</strong>: The recommended settings are for Windows 2008 R2 8 Core and Oracle HotSpot 1.7 (64-bit) JDK and should be scaled up or down as per your system configuration.<br /> </p> 
  <h2>Using a web server</h2> 
  <p>Adaptive forms and HTML5 forms render in HTML5 format. The resultant output could be large depending on factors like the form size and images in the form. To optimize the data transfer, the recommended approach is to compress the HTML response using the web server from which the request is being served. This approach reduces the response size, network traffic, and the time required to stream data between server and client machines.</p> 
  <p>For example, perform the following steps to enable compression on Apache Web Server 2.0 32-bit with JBoss:</p> 
  <p><em><strong>Note</strong>: The following instructions do not apply to any server other than the Apache Web Server 2.0 32-bit. For steps specific to any other server, see the corresponding product documentation.</em></p> 
  <p>Following steps demonstrates changes required to enable compression with Apache Web Server</p> 
  <p><strong>Obtain the Apache web server software applicable to your operating system</strong></p> 
  <ul> 
   <li>Windows: download the Apache web server from the Apache HTTP Server Project site.</li> 
   <li>Solaris 64-bit: download the Apache web server from the Sunfreeware for Solaris Website.</li> 
   <li>Linux: the Apache web server is preinstalled on a Linux system.</li> 
  </ul> 
  <p>Apache can communicate to CRX using the HTTP protocol. The configurations are for optimization using HTTP.</p> 
  <ol> 
   <li><p>Uncomment the following module configurations in <span class="code">APACHE_HOME/conf/httpd.conf</span> file.</p> 
    <codeblock gutter="true" class="syntax java">
      LoadModule&amp;nbsp;proxy_balancer_module&amp;nbsp;modules/mod_proxy.so!!discoiqbr!!LoadModule&amp;nbsp;proxy_balancer_module&amp;nbsp;modules/mod_proxy_http.so!!discoiqbr!!LoadModule&amp;nbsp;deflate_module&amp;nbsp;modules/mod_deflate.so 
    </codeblock> 
    <note> 
     <p>For Linux, the default <span class="code">APACHE_HOME</span> is <span class="code">/etc/httpd/</span>.</p> 
    </note></li> 
   <li><p>Configure the proxy on port 4502 of crx.<br /> Add following configuration in <span class="code">APACHE_HOME/conf/httpd.conf</span> configuration file.</p> 
    <codeblock gutter="true" class="syntax java">
      ProxyPass&amp;nbsp;/&amp;nbsp;http://&lt;server&gt;:4502/!!discoiqbr!!ProxyPassReverse&amp;nbsp;/&amp;nbsp;http://&lt;server&gt;:4502/ 
    </codeblock></li> 
   <li><p>Enable Compression. Add following configuration in <span class="code">APACHE_HOME/conf/httpd.conf</span> configuration file.</p>  
    <codeblock gutter="true" class="syntax java">
      &lt;Location&amp;nbsp;/content/xfaforms&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;IfModule&amp;nbsp;mod_deflate.c&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SetOutputFilter&amp;nbsp;DEFLATE!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#Don’t&amp;nbsp;compress!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SetEnvIfNoCase&amp;nbsp;Request_URI&amp;nbsp;\.(?:gif|jpe?g|png)$&amp;nbsp;no-gzip&amp;nbsp;dont-vary!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SetEnvIfNoCase&amp;nbsp;Request_URI&amp;nbsp;\.(?:exe|t?gz|zip|bz2|sit|rar)$&amp;nbsp;no-gzip&amp;nbsp;dont-vary!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#Dealing&amp;nbsp;with&amp;nbsp;proxy&amp;nbsp;servers!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;IfModule&amp;nbsp;mod_headers.c&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Header&amp;nbsp;append&amp;nbsp;Vary&amp;nbsp;User-Agent!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/IfModule&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/IfModule&gt;!!discoiqbr!!&lt;/Location&gt; 
    </codeblock> 
    <codeblock gutter="true" class="syntax java">
      &lt;Location&amp;nbsp;/content/forms/af&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;IfModule&amp;nbsp;mod_deflate.c&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SetOutputFilter&amp;nbsp;DEFLATE!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#Don’t&amp;nbsp;compress!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SetEnvIfNoCase&amp;nbsp;Request_URI&amp;nbsp;\.(?:gif|jpe?g|png)$&amp;nbsp;no-gzip&amp;nbsp;dont-vary!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SetEnvIfNoCase&amp;nbsp;Request_URI&amp;nbsp;\.(?:exe|t?gz|zip|bz2|sit|rar)$&amp;nbsp;no-gzip&amp;nbsp;dont-vary!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#Dealing&amp;nbsp;with&amp;nbsp;proxy&amp;nbsp;servers!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;IfModule&amp;nbsp;mod_headers.c&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Header&amp;nbsp;append&amp;nbsp;Vary&amp;nbsp;User-Agent!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/IfModule&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/IfModule&gt;!!discoiqbr!!&lt;/Location&gt; 
    </codeblock><p>To access the crx server, use <span class="code">http://[server]:80</span>, where <span class="code">server</span> is the name of the server on which the Apache server is running.</p> </li> 
  </ol> 
  <h2>Using an antivirus on server running AEM Forms</h2> 
  <p>You can experience slow performance on the servers running an antivirus software. An always on antivirus (on-access scanning) software scans all the files of a system. It can slow down the server and performance of the AEM Forms is impacted.</p> 
  <p>To improve the performance, you can direct the antivirus software to exclude the following AEM Forms files and folders from always on (on-access) scanning:</p> 
  <ul style="list-style-position: inside;"> 
   <li>AEM Installation directory. If it is not possible to exclude complete directory, exclude the following: 
    <ul> 
     <li>[AEM installation directory]\crx-repository\temp<br /> </li> 
     <li>[AEM installation directory]\crx-repository\repository</li> 
     <li>[AEM installation directory]\crx-repository\launchpad</li> 
    </ul> </li> 
   <li>Application server temporary directory. The default location is: 
    <ul> 
     <li>(Jboss) [AEM installation directory]\jboss\standalone\tmp</li> 
     <li>(Weblogic) \Oracle\Middleware\user_projects\domains\LCDomain\servers\LCServer1\tmp</li> 
     <li>(Websphere) \Program Files\IBM\WebSphere\AppServer\profiles\AppSrv01\temp</li> 
    </ul> </li> 
   <li><strong>(AEM Forms on JEE only)</strong> Global Document Storage (GDS) directory. The default location is: 
    <ul> 
     <li>(JBoss) [appserver root]/server/[server]/svcnative/DocumentStorage</li> 
     <li>(WebLogic) [appserverdomain]/[server]/adobe/LiveCycleServer/DocumentStorage</li> 
     <li>(WebSphere) [appserver root]/installedApps/adobe/[server]/DocumentStorage</li> 
    </ul> </li> 
   <li _rte_invalid="true"><strong>(AEM Forms on JEE only)</strong> AEM Forms server logs and temporary directory. The default location is:<br /> 
    <ul> 
     <li _rte_invalid="true">Server logs - [AEM Forms installation directory]\Adobe\AEM forms\[app-server]\server\all\logs</li> 
     <li _rte_invalid="true">Temp directory - [AEM Forms installation directory]\temp</li> 
    </ul> </li> 
  </ul> 
  <p> </p> 
  <note> 
   <ul> 
    <li>If you are using a different location for GDS and temporary directory, open <a href="http://[server]:[port]/adminui" target="_blank">AdminUI</a>, navigate to <strong>Home &amp;gt; Settings &amp;gt; Core System Settings &amp;gt; Core Configurations</strong> to confirm the location in use.</li> 
    <li>If the AEM Forms server performs slow even after excluding the suggested directories, then exclude the Java executable file (java.exe) also. <br /> </li> 
   </ul> 
  </note> 
  <related-links> 
   <a href="../../forms/using/installing-configuring-aem-forms-osgi.md" target="_blank">Installing and configuring AEM Forms</a> 
   <a href="../../forms/using/aem-forms-architecture-deployment.md" target="_blank">AEM Forms architecture and deployment topologies</a> 
   <a href="../../forms/using/aem-livecycle-connector.md" target="_blank">Connecting AEM Forms with Adobe LiveCycle</a> 
  </related-links> 
 </body> 
</html>